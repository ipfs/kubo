# Kubo changelog v0.36

<a href="http://ipshipyard.com/"><img align="right" src="https://github.com/user-attachments/assets/39ed3504-bb71-47f6-9bf8-cb9a1698f272" /></a>

This release  was brought to you by the [Shipyard](http://ipshipyard.com/) team.

- [v0.36.0](#v0340)

## v0.36.0


- [Overview](#overview)
- [ğŸ”¦ Highlights](#-highlights)
  - [HTTP Retrieval client enabled by default](#http-retrieval-client-enabled-by-default)
  - [Update go-log to v2](#update-go-log-to-v2)
  - [AutoNATv2 Client](#autonatv2-client)
    - [Smarter AutoTLS registration](#smarter-autotls-registration)
  - [Overwrite option for files cp command](#overwrite-option-for-files-cp-command)
  - [Update go-log to v2](#update-go-log-to-v2)
  - [Bitswap Broadcast Reduction](#bitswap-broadcast-reduction)
  - [Option for filestore command to remove bad blocks](#option-for-filestore-command-to-remove-bad-blocks)
  - [ğŸ“¦ï¸ Important dependency updates](#-important-dependency-updates)
- [ğŸ“ Changelog](#-changelog)
- [ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Contributors](#-contributors)

### Overview

### ğŸ”¦ Highlights

#### HTTP Retrieval client enabled by default

This release promotes the HTTP Retrieval client from an experimental feature to a standard feature that is enabled by default. When possible, Kubo will be retrieving blocks over plain HTTPS (HTTP/2) without any extra user configuration.

See [`HTTPRetrieval`](https://github.com/ipfs/kubo/blob/master/docs/config.md#httpretrieval) for more details.

#### Update go-log to v2

go-log v2 has been out for quite a while now and it is time to deprecate v1. 

- Replace all use of `go-log` with `go-log/v2`
- Makes `/api/v0/log/tail` useful over HTTP
- Fixes `ipfs log tail`
- Removes support for `ContextWithLoggable` as this is not needed for tracing-like functionality

#### AutoNATv2 Client

This Kubo release starts utilizing [AutoNATv2](https://github.com/libp2p/specs/blob/master/autonat/autonat-v2.md) client functionality. go-libp2p v0.42 supports and depends on both AutoNATv1 and v2, and Autorelay feature continues to use v1. go-libp2p v0.43+ will discontinue internal use of AutoNATv1. We will maintain support for both v1 and v2 until then, though v1 will gradually be deprecated and ultimately removed.

##### Smarter AutoTLS registration

This update to libp2p and [AutoTLS](https://github.com/ipfs/kubo/blob/master/docs/config.md#autotls) tests AutoNATv2 changes. It aims to reduce false-positive scenarios where AutoTLS certificate registration occurred before a publicly dialable multiaddr was available. This should result in fewer error logs during node start, especially when IPv6 and/or IPv4 NATs with UPnP/PCP/NAT-PMP are at play.

#### Overwrite option for files cp command

The `ipfs files cp` command has a `--force` option to allow it to overwrite existing files. Attempting to overwrite an existing directory results in an error.

#### Bitswap Broadcast Reduction

The bitswap client now supports logic to reduce the amount of bitswap broadcast messages that are send to peers. This logic is enabled by default.

The bitswap broadcast reduction logic can be enabled and disabled and configured in the `Internal.Bitswap` section of the ipfs config file. For a description of the configuration items, see the `Internal.Bitswap.Broadcast...` variables in the documentation on [`Internal.Bitswap`](https://github.com/ipfs/kubo/blob/master/docs/config.md#internalbitswap).

The overall logic works by sending to non-local peers only if those peers have previously replied that they have wanted data blocks. By default, broadcasts are always sent to peers on the local network.

#### Option for filestore command to remove bad blocks

The `filestore` command has a new option, `--remove-bad-blocks`, to verify objects in the filestore and remove those that fail verification.

#### ğŸ“¦ï¸ Important dependency updates

- update `go-libp2p-kad-dht` to [v0.33.0](https://github.com/libp2p/go-libp2p-kad-dht/releases/tag/v0.33.0)
- update `boxo` to [v0.32.0](https://github.com/ipfs/boxo/releases/tag/v0.32.0)
- update `gateway-conformance` to [v0.8](https://github.com/ipfs/gateway-conformance/releases/tag/v0.8.0)

### ğŸ“ Changelog

### ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Contributors
