# Kubo changelog v0.37

<a href="https://ipshipyard.com/"><img align="right" src="https://github.com/user-attachments/assets/39ed3504-bb71-47f6-9bf8-cb9a1698f272" /></a>

This release  was brought to you by the [Interplanetary Shipyard](https://ipshipyard.com/) team.

- [v0.37.0](#v0370)

## v0.37.0

- [Overview](#overview)
- [🔦 Highlights](#-highlights)
  - [AutoConfig: Full control over network defaults](#autoconfig-full-control-over-network-defaults)
  - [Faster migrations with embedded tooling](#faster-migrations-with-embedded-tooling)
  - [Clear provide queue when reprovide strategy changes](#clear-provide-queue-when-reprovide-strategy-changes)
  - [Remove unnecessary packages from thirdparty](#remove-unnecessary-packages-from-thirdparty)
- [📦️ Important dependency updates](#-important-dependency-updates)
- [📝 Changelog](#-changelog)
- [👨‍👩‍👧‍👦 Contributors](#-contributors)

### Overview

### 🔦 Highlights

#### AutoConfig: Full control over network defaults

Your IPFS node now makes all network defaults explicit and gives you complete control over what your node connects to.

What changed:

- Before: Empty `Routing.DelegatedRouters: []` would implicitly use hardcoded routing endpoints that weren't visible in your config
- After: `Routing.DelegatedRouters: ["auto"]` explicitly shows that network defaults are being used, which you can inspect with `ipfs config Routing.DelegatedRouters --expand-auto` or replace with your own values
- The same `"auto"` placeholder is now used consistently across `Bootstrap`, `Routing.DelegatedRouters`, `DNS.Resolvers`, and `Ipns.DelegatedPublishers` to make all network defaults explicit and controllable

You now have full control:

- **See what your node connects to**: Inspect resolved routing endpoints instead of relying on implicit defaults
- **Override any default**: Replace "auto" with your own routing endpoints, DNS resolvers, or bootstrap peers
- **Disable unwanted features**: Set empty lists `[]` to truly disable functionality instead of falling back to implicit defaults
- **Full transparency**: Your config file now shows every "auto" placeholder your node will use, or see all resolved values with `ipfs config show --expand-auto`

Choose your level of control:

- Use "auto" for curated network defaults that stay up-to-date automatically from `AutoConfig.URL`
- Replace with your own values for complete manual control
- New profiles: `--profile=autoconfig-on` (default) and `--profile=autoconfig-off` for manual configuration

Migration preserves your choices: Existing custom settings are kept exactly as you configured them, while implicit defaults become explicit "auto" values.

See the [AutoConfig documentation](https://github.com/ipfs/kubo/blob/master/docs/config.md#autoconfig) to learn more about how this system works.

##### AutoConfig support in existing commands

Several commands have been enhanced to support the new AutoConfig system:

- New: `ipfs config show --expand-auto` - See your entire config with all "auto" values resolved to their actual endpoints
- New: `ipfs config <key> --expand-auto` - Inspect resolved values for specific config fields like `ipfs config Bootstrap --expand-auto`
- New: `ipfs config profiles apply autoconfig-on|autoconfig-off` - Switch between automatic and manual network configuration
- New: `ipfs bootstrap list --expand-auto` - See actual peer addresses instead of "auto" placeholders
- Use `ipfs bootstrap add auto` to add default peers
- New: `ipfs name publish --delegated-only` - Publish IPNS records only to HTTP delegated publishers defined in Ipns.DelegatedPublishers
- Enhanced: `ipfs name publish --allow-offline` - Consistent local-only publishing behavior

#### Faster migrations with embedded tooling

Repository migrations now run instantly without downloading external tools. Starting with repo version 17, all migration code is built into Kubo itself.

- Migrations run immediately when you start the daemon - no more waiting for downloads
- Better reliability - no network issues or missing migration tools
- Use `ipfs repo migrate --to=16 --allow-downgrade` to go back to older versions if needed
- External migrations still work for older repo versions (before v17)

#### Clear provide queue when reprovide strategy changes

Your content sharing strategy changes now take effect cleanly, without interference from previously queued items.

When you change [`Reprovider.Strategy`](https://github.com/ipfs/kubo/blob/master/docs/config.md#reproviderstrategy) and restart Kubo, the provide queue is automatically cleared. This ensures only content matching your new strategy will be announced to the network.

A new `ipfs provide clear` command also allows manual queue clearing for debugging purposes.

> [!NOTE]
> Upgrading to Kubo 0.37 will automatically clear any preexisting provide queue. The next time `Reprovider.Interval` hits, `Reprovider.Strategy` will be executed on a clean slate, ensuring consistent behavior with your current configuration.

#### Remove unnecessary packages from thirdparty

Removed unnecessary packages from the `thirdparty` area of kubo repositroy.

- Removed `thirdparty/assert` (replaced by `github.com/stretchr/testify/require`)
- Removed `thirdparty/dir` (replaced by `misc/fsutil)`
- Removed `thirdparty/notifier` (unused)

#### 📦️ Important dependency updates

- update `boxo` to [v0.34.0](https://github.com/ipfs/boxo/releases/tag/v0.34.0)

### 📝 Changelog

### 👨‍👩‍👧‍👦 Contributors
