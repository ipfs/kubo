# Kubo changelog v0.37

<a href="https://ipshipyard.com/"><img align="right" src="https://github.com/user-attachments/assets/39ed3504-bb71-47f6-9bf8-cb9a1698f272" /></a>

This release  was brought to you by the [Interplanetary Shipyard](https://ipshipyard.com/) team.

- [v0.37.0](#v0370)

## v0.37.0

- [Overview](#overview)
- [ğŸ”¦ Highlights](#-highlights)
  - [Telemetry plugin](#telemetry-plugin)
  - [Clear provide queue when reprovide strategy changes](#clear-provide-queue-when-reprovide-strategy-changes)
  - [Named pins in `ipfs add` command](#-named-pins-in-ipfs-add-command)
  - [Removed unnecessary dependencies](#removed-unnecessary-dependencies)
- [ğŸ“¦ï¸ Important dependency updates](#-important-dependency-updates)
- [ğŸ“ Changelog](#-changelog)
- [ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Contributors](#-contributors)

### Overview

### ğŸ”¦ Highlights

#### Telemetry plugin

Per a suggestion from the IPFS Foundation, Kubo now includes a plugin to send anonymized telemetry information to IPShipyard developers.

**Why**: We want to better understand Kubo usage across the ecosystem so we can better direct funding and work efforts. For example, we have little insights into how many nodes are NAT'ed and rely on AutoNAT for reachability. Some of the information can be inferred by crawling the network or logging `/identify` details in the bootstrappers, but users have no way of opting out from that, so we believe it is more transparent to concentrate this functionality in one place.

**What**: Currently, we send the following infos:

```
  "uuid": "<unique_uuid>",
  "agent_version": "kubo/0.37.0-dev",
  "private_network": false,
  "bootstrappers_custom": false,
  "repo_size_bucket": 1073741824,
  "uptime_bucket": 86400000000000,
  "reprovider_strategy": "pinned",
  "routing_type": "auto",
  "routing_accelerated_dht_client": false,
  "routing_delegated_count": 0,
  "autonat_service_mode": "enabled",
  "autonat_reachability": "",
  "swarm_enable_hole_punching": true,
  "swarm_circuit_addresses": false,
  "swarm_ipv4_public_addresses": true,
  "swarm_ipv6_public_addresses": true,
  "auto_tls_auto_wss": true,
  "auto_tls_domain_suffix_custom": false,
  "discovery_mdns_enabled": true,
  "platform_os": "linux",
  "platform_arch": "amd64",
  "platform_containerized": false,
  "platform_vm": false
```

The concrete values sent for your node can be inspected by setting `GOLOG_LOG_LEVEL="telemetry=debug"` or `ipfs log level telemetry debug`. Users will see an informative message logged the first time they launch a telemetry-enabled daemon. Telemetry will be sent by default every 24h, starting at 15m after daemon launch.

**Opting out**: Opt-out can be achieved by setting `IPFS_TELEMETRY_PLUGIN_MODE=optout` or running `ipfs config Plugins.Plugins.telemetry.Config.Mode optout` (daemon restart required).

The telemetry plugin code lives in `plugin/plugins/telemetry`.


#### Clear provide queue when reprovide strategy changes

Your content sharing strategy changes now take effect cleanly, without interference from previously queued items.

When you change [`Reprovider.Strategy`](https://github.com/ipfs/kubo/blob/master/docs/config.md#reproviderstrategy) and restart Kubo, the provide queue is automatically cleared. This ensures only content matching your new strategy will be announced to the network.

A new `ipfs provide clear` command also allows manual queue clearing for debugging purposes.

> [!NOTE]
> Upgrading to Kubo 0.37 will automatically clear any preexisting provide queue. The next time `Reprovider.Interval` hits, `Reprovider.Strategy` will be executed on a clean slate, ensuring consistent behavior with your current configuration.

#### ğŸ§· Named pins in `ipfs add` command

Added `--pin-name` flag to `ipfs add` for assigning names to pins.

```console
$ ipfs add --pin-name=testname cat.jpg
added bafybeigdyrzt5sfp7udm7hu76uh7y26nf3efuylqabf3oclgtqy55fbzdi cat.jpg

$ ipfs pin ls --names
bafybeigdyrzt5sfp7udm7hu76uh7y26nf3efuylqabf3oclgtqy55fbzdi recursive testname
```

#### Removed unnecessary dependencies

Kubo has been cleaned up by removing unnecessary dependencies and packages:

- Removed `thirdparty/assert` (replaced by `github.com/stretchr/testify/require`)
- Removed `thirdparty/dir` (replaced by `misc/fsutil`)
- Removed `thirdparty/notifier` (unused)
- Removed `goprocess` dependency (replaced with native Go `context` patterns)

These changes reduce the dependency footprint while improving code maintainability and following Go best practices.

#### ğŸ“¦ï¸ Important dependency updates

- update `go-libp2p` to [v0.42.1](https://github.com/libp2p/go-libp2p/releases/tag/v0.42.1)
- update `p2p-forge/client` to [v0.6.1](https://github.com/ipshipyard/p2p-forge/releases/tag/v0.6.1)
- update `boxo` to [v0.33.1](https://github.com/ipfs/boxo/releases/tag/v0.33.1)

### ğŸ“ Changelog

### ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Contributors
