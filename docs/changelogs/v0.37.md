# Kubo changelog v0.37

<a href="https://ipshipyard.com/"><img align="right" src="https://github.com/user-attachments/assets/39ed3504-bb71-47f6-9bf8-cb9a1698f272" /></a>

This release  was brought to you by the [Interplanetary Shipyard](https://ipshipyard.com/) team.

- [v0.37.0](#v0370)

## v0.37.0

- [Overview](#overview)
- [🔦 Highlights](#-highlights)
  - [AutoConf: Complete control over network defaults](#autoconf-complete-control-over-network-defaults)
    - [New commands for configuration transparency and control](#new-commands-for-configuration-transparency-and-control)
  - [New IPNS publishing options](#new-ipns-publishing-options)
  - [Faster migrations with embedded tooling](#faster-migrations-with-embedded-tooling)
  - [Clear provide queue when reprovide strategy changes](#clear-provide-queue-when-reprovide-strategy-changes)
  - [Remove unnecessary packages from thirdparty](#remove-unnecessary-packages-from-thirdparty)
  - [📦️ Important dependency updates](#-important-dependency-updates)
- [📝 Changelog](#-changelog)
- [👨‍👩‍👧‍👦 Contributors](#-contributors)

### Overview

### 🔦 Highlights

#### AutoConf: Complete control over network defaults

You can now see and control all network defaults your IPFS node uses - no more hidden, hardcoded values or mysterious behavior.

Your config file now explicitly shows `["auto"]` placeholders that resolve to curated, up-to-date network defaults. You can inspect these settings anytime, replace them with your own services, or disable the AutoConf feature entirely.

See the [AutoConf documentation](https://github.com/ipfs/kubo/blob/master/docs/config.md#autoconf) to learn more about how this system works.

**What changed behind the scenes:**

Previously, empty configuration fields like `Routing.DelegatedRouters: []` would secretly use hardcoded defaults you couldn't see or control. This system makes the implicit explicit.

When you upgrade to Kubo 0.37, your custom configurations stay exactly as you set them. Only the previously-hidden-or-hardcoded defaults become visible `"auto"` values.


##### New commands for configuration transparency and control

The `ipfs` CLI now includes powerful commands to inspect and control these settings:

**Inspect what defaults your node uses:**
```bash
# See all resolved network endpoints (no more guessing!)
ipfs config show --expand-auto

# Check exactly which bootstrap peers are configured
ipfs config Bootstrap --expand-auto

# Inspect specific config sections
ipfs config Routing.DelegatedRouters --expand-auto
ipfs config DNS.Resolvers --expand-auto
```

**Take full control when you need it:**

- Replace `"auto"` with your own routing endpoints for direct control
- Set empty lists `[]` to truly disable features (no more fallback to hidden defaults)
- Switch between automatic and manual modes with `--profile=autoconf-on|autoconf-off`
- Control the system with `AutoConf.Enabled` and customize the source with `AutoConf.URL`

**Take control of your setup:**
```bash
# Switch to fully automatic network configuration
ipfs config profiles apply autoconf-on

# Switch to manual control - explicitly set all AutoConf fields
ipfs config profiles apply autoconf-off
ipfs config Bootstrap '["/dnsaddr/bootstrap.libp2p.io/p2p/QmNnooDu7bfjPFoTZYxMNLWUQJyrVwtbZg5gBMjTezGAJN"]'
ipfs config --json DNS.Resolvers '{".": ["https://dns.example.com/dns-query"], "eth.": ["https://dns.example.org/dns-query"]}'
ipfs config --json Routing.DelegatedRouters '["https://routing.example.net"]'
ipfs config --json Ipns.DelegatedPublishers '["https://ipns.example.com"]'

# Reset selected fields to use automatic defaults
ipfs config Bootstrap '["auto"]'
ipfs config --json DNS.Resolvers '{".": ["https://dns.example.com/dns-query"], "eth.": ["auto"]}'
```

**Use your own AutoConf manifest:**

Organizations can create custom AutoConf manifests tailored to their swarm or client needs - private networks, enterprise deployments, or specialized applications can define their own bootstrap peers, DNS resolvers, and routing endpoints.

Host your autoconf.json anywhere and configure with `AutoConf.URL`. See AutoConf format and guidance at https://config.ipfs-mainnet.org/

#### New IPNS publishing options

Choose exactly how and where your IPNS records get published, with precise control over your publishing strategy.

**Configure delegated IPNS publishers:**

Configure HTTP endpoints for IPNS publishing using [`Ipns.DelegatedPublishers`](https://github.com/ipfs/kubo/blob/master/docs/config.md#ipnsdelegatedpublishers). Like other AutoConf fields, it supports the special `"auto"` value to use curated network defaults, or specify your own HTTP endpoints for full control over where your IPNS records are published.

**New command flags for targeted publishing:**
```bash
# Publish only to HTTP services defined in Ipns.DelegatedPublishers (skip DHT entirely)
ipfs name publish --delegated-only /ipfs/QmHash

# Publish only locally (no network requests)
ipfs name publish --allow-offline /ipfs/QmHash
```

These options let you optimize publishing for your specific use case - whether you want faster HTTP-only publishing or when loading test fixtures in CI.

#### Faster migrations with embedded tooling 

Repository migrations are now built directly into Kubo, eliminating download delays and external tool dependencies. Migrations complete instantly without network requests.

What you gain:

- **Instant startup** - migrations complete in milliseconds, not minutes
- **Work offline** - no internet connection needed for migrations 
- **Better reliability** - never get stuck because migration tools won't download or get blocked by security software

`ipfs daemon --migrate` performs migrations automatically. You can also use the `ipfs repo migrate` command with explicit `--to` flags to migrate to specific versions on demand:

- `ipfs repo migrate --to=17` - upgrade to access the latest features
- `ipfs repo migrate --to=16 --allow-downgrade` - downgrade for compatibility

This improvement applies to repository version 17 and above. Older versions still use external migration tools when needed.

#### Clear provide queue when reprovide strategy changes

Your content sharing strategy changes take effect immediately, without old announcements interfering with your new setup.

When you change your [`Reprovider.Strategy`](https://github.com/ipfs/kubo/blob/master/docs/config.md#reproviderstrategy) configuration and restart Kubo, your provide queue automatically clears. This means only content matching your new strategy gets announced to the network - no more mixed signals or outdated announcements.

You can also manually clear the queue anytime:

- `ipfs provide clear` - instantly clear all queued content announcements for debugging

Gain precise control over what content your node announces, ensuring your sharing strategy works exactly as intended.

> [!NOTE]
> Upgrading to Kubo 0.37 will automatically clear any preexisting provide queue. The next time `Reprovider.Interval` hits, `Reprovider.Strategy` will be executed on a clean slate, ensuring consistent behavior with your current configuration.

#### Remove unnecessary packages from thirdparty

Removed unnecessary packages from the `thirdparty` area of kubo repositroy.

- Removed `thirdparty/assert` (replaced by `github.com/stretchr/testify/require`)
- Removed `thirdparty/dir` (replaced by `misc/fsutil)`
- Removed `thirdparty/notifier` (unused)

#### 📦️ Important dependency updates

- update `boxo` to [v0.34.0](https://github.com/ipfs/boxo/releases/tag/v0.34.0)

### 📝 Changelog

### 👨‍👩‍👧‍👦 Contributors
