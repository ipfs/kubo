# Kubo changelog v0.38

<a href="https://ipshipyard.com/"><img align="right" src="https://github.com/user-attachments/assets/39ed3504-bb71-47f6-9bf8-cb9a1698f272" /></a>

This release was brought to you by the [Shipyard](https://ipshipyard.com/) team.

- [v0.38.0](#v0380)

## v0.38.0

- [Overview](#overview)
- [ğŸ”¦ Highlights](#-highlights)
- [ğŸ“¦ï¸ Important dependency updates](#-important-dependency-updates)
- [ğŸ“ Changelog](#-changelog)
- [ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Contributors](#-contributors)

### Overview

### ğŸ”¦ Highlights

#### ğŸ› ï¸ Important fixes for `ipfs files write` and `ipfs add --inline-limit`

Several critical issues with file operations have been fixed:

**`ipfs add --inline-limit` enforcement**:
- Now enforces a maximum limit respecting `boxo/verifcid.DefaultMaxIdentityDigestSize`
- Identity CIDs (multihash code 0x00) embed data directly without cryptographic verification
- Attempts to use `--inline-limit` values larger than `DefaultMaxIdentityDigestSize` will return an error:
  ```
  Error: inline-limit 256 exceeds maximum allowed size of 128 bytes
  ```
- Protects IPFS nodes and gateways from potential abuse while maintaining compatibility with existing valid use cases

**`ipfs files write` fixes**:
- **Codec preservation**: Files now correctly preserve raw node codec when modifying data under the chunker threshold, instead of incorrectly forcing everything to dag-pb
- **Raw node append support**: Append operations to raw nodes now work correctly by automatically converting them into UnixFS file structures. Previously these operations would fail with "expected protobuf dag node" errors
- **CID prefix inheritance**: Files with identity CIDs now properly inherit the full CID prefix from parent directories (version, codec, hash type, length), not just the hash type
- **Identity CID overflow prevention**: File modifications now prevent creation of identity CIDs exceeding `DefaultMaxIdentityDigestSize`, automatically switching to proper cryptographic hashes when needed

### ğŸ“¦ï¸ Important dependency updates

### ğŸ“ Changelog

<details><summary>Full Changelog</summary>

</details>

### ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Contributors